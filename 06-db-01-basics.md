# Домашнее задание к занятию 1. «Типы и структура СУБД» - Тимохин Максим

## Задача 1

### Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

1. электронные чеки в json-виде:

   #### Ответ: Документо-ориентированые БД MongoDB, документы хранятся в JSON или BSON.


2. склады и автомобильные дороги для логистической компании:

   #### Ответ: Графовые БД (GraphDB), для оптимизация пути от точки А до точки Б.


3. генеалогические деревья:

   #### Ответ: Оптимальный выбор - иерархические БД, например Caché.


4. кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации:

   #### Ответ: БД вида ключ-значение, например Redis, он может использоваться как БД, и как кэш-система.


5. отношения клиент-покупка для интернет-магазина:

    ####    Ответ: Реляционные БД, например Postgres/MySQL.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

1. данные записываются на все узлы с задержкой до часа (асинхронная запись)

   #### Ответ:  
   В данном случае, если данные записываются на все узлы с задержкой до часа, это означает, что система не может гарантировать согласованность данных в режиме реального времени. Также возможны проблемы с доступностью данных из-за задержек записи. Система скорее всего PA-EL. 

2. при сетевых сбоях система может разделиться на 2 раздельных кластера:

   #### Ответ:
   Если при сетевых сбоях система может разделиться на 2 раздельных кластера, это означает, что система обладает устойчивостью к разделению, обеспечивается свойство доступности. Система AP.
      
4. система может не прислать корректный ответ или сбросить соединение:

   #### Ответ:   
   Если система может не прислать корректный ответ - то есть система может ответить, но некорректно - это PC-EL система. Или если система исключет некорректный ответ, то есть некорректного ответа быть не может и узел системы просто игнорирует запрос - система PC-EC.

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

#### Ответ: 

Да, в одной системе могут сочетаться принципы BASE и ACID. 

ACID - набор принципов для обеспечения надежности транзакций в реляционных базах данных. Эти принципы гарантируют, что транзакции будут выполняться атомарно, согласованно, изолированно и долговечно.

BASE - альтернативный подход к обработке данных в распределенных системах. Данные могут быть временно несогласованными, но со временем система должна достичь согласованности.

Поскольку ACID и BASE являются разными подходами к обработке данных, они взаимно исключают друг друга. Однако, в некоторых случаях можно использовать комбинацию обоих принципов в разных частях системы. Например, некоторые компоненты могут работать в строгом режиме ACID, тогда как другие компоненты могут работать в базовом режиме BASE. Это может быть полезно, если нужно обеспечить согласованность в одной части системы и высокую доступность в другой части.

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

    фиксация некоторых значений с временем жизни,
    реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?

#### Ответ: 

Key-value-хранилище с механизмом Pub/Sub - это система, которая позволяет хранить данные в виде пар ключ-значение. При использовании механизма Pub/Sub клиенты могут подписываться на определенные ключи или группы ключей и получать уведомления о любых изменениях этих данных. 

Минусы:

1. отсутствие гарантии доставки сообщений;
2. возможна задержка сообщений;
3. сложность отладки и масштабирования системы;
4. Pub/Sub может быть неоптимальным, если требуется выполнение транзакций с сильной согласованностью или поддержка сложных запросов

Примеры key-value-хранилищ с механизмом Pub/Sub:

1. Redis
2. Apache Kafka
3. Apache Pulsar
4. NATS

